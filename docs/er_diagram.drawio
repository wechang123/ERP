<mxfile host="app.diagrams.net">
  <diagram name="ER Diagram" id="er-diagram">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800" background="#FFFFFF">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Database Schema Design" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="200" height="30" as="geometry" />
        </mxCell>

        <!-- MySQL Section -->
        <mxCell id="mysql_title" value="MySQL (Employee Service)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="80" y="70" width="200" height="25" as="geometry" />
        </mxCell>

        <!-- employees table -->
        <mxCell id="employees_header" value="employees" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="200" height="30" as="geometry" />
        </mxCell>

        <mxCell id="employees_pk" value="PK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_id" value="id : BIGINT AUTO_INCREMENT" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="130" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="employees_col1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="155" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_name" value="name : VARCHAR(100) NOT NULL" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="155" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="employees_col2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="180" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_email" value="email : VARCHAR(100) UNIQUE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="180" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="employees_col3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="205" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_dept" value="department : VARCHAR(100)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="205" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="employees_col4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="230" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_position" value="position : VARCHAR(100)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="230" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="employees_col5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="255" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="employees_role" value="role : ENUM('USER','ADMIN')" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#b85450;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="255" width="170" height="25" as="geometry" />
        </mxCell>

        <!-- MongoDB Section -->
        <mxCell id="mongo_title" value="MongoDB (Approval Request Service)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="70" width="280" height="25" as="geometry" />
        </mxCell>

        <!-- approval_requests collection -->
        <mxCell id="requests_header" value="approval_requests" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="400" y="100" width="220" height="30" as="geometry" />
        </mxCell>

        <mxCell id="requests_pk" value="PK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="130" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_id" value="_id : ObjectId" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="130" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="155" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_title" value="title : String" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="155" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="180" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_content" value="content : String" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="180" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col3" value="FK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="205" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_requester" value="requesterId : Long" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="205" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="230" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_status" value="status : PENDING/APPROVED/REJECTED" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="230" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="255" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_deadline" value="deadline : LocalDateTime" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="255" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="280" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_steps" value="approvalSteps : List&lt;ApprovalStep&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="280" width="190" height="25" as="geometry" />
        </mxCell>

        <mxCell id="requests_col7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="305" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="requests_created" value="createdAt : LocalDateTime" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="305" width="190" height="25" as="geometry" />
        </mxCell>

        <!-- ApprovalStep embedded document -->
        <mxCell id="step_header" value="ApprovalStep (Embedded)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="700" y="100" width="200" height="30" as="geometry" />
        </mxCell>

        <mxCell id="step_col1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="130" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step_order" value="stepOrder : int" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="730" y="130" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="step_col2" value="FK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="155" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step_approver" value="approverId : Long" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="730" y="155" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="step_col3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="180" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step_status" value="status : PENDING/APPROVED/..." style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="730" y="180" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="step_col4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="205" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step_comment" value="comment : String" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="730" y="205" width="170" height="25" as="geometry" />
        </mxCell>

        <mxCell id="step_col5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="230" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step_processedAt" value="processedAt : LocalDateTime" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;align=left;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="730" y="230" width="170" height="25" as="geometry" />
        </mxCell>

        <!-- Relationship arrows -->
        <mxCell id="rel1" value="contains" style="endArrow=open;html=1;strokeColor=#9673a6;strokeWidth=2;dashed=1;fontColor=#9673a6;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="290" as="sourcePoint" />
            <mxPoint x="700" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="rel2" value="references" style="endArrow=open;html=1;strokeColor=#6c8ebf;strokeWidth=2;dashed=1;fontColor=#6c8ebf;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="217" as="sourcePoint" />
            <mxPoint x="280" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend_title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="80" y="360" width="60" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend_pk" value="PK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="80" y="385" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_pk_text" value="Primary Key" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="115" y="385" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend_fk" value="FK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontColor=#333333;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="200" y="385" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_fk_text" value="Foreign Key (Reference)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#333333;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="235" y="385" width="140" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
